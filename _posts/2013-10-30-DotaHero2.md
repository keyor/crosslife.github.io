---
layout: post
title : cocos2dx搭建可移植win32工程
---
今天终于解决了cocos2dx编译出来的win32工程在其他未安装VS的电脑上报错的问题。

1.编译方式依然选择debug版，这个并不重要，因为这样的工程本身就是给策划用的，能看到调试信息是一件好事。
还有一个原因就是release版的编译总是会出现各种莫名报错，估计cocos2dx 官方根本没有考虑 win32 release版的编译问题。

2.所有相关项目 配置属性 -> C/C++ -> 代码生成 -> 运行库 选择(/MTd)，(/MDd)是默认属性，在上次测试中有问题，这次没有选用，从结果来看，差别不大。
其他选项印象中没有修改，编译应该可以通过了。

3.将exe及相关dll从debug目录中拷贝出来，把Resources目录下的所有内容一并拷贝出来放到新文件夹根目录（文件夹名称为英文）。

4.比较重要的一步，安装vcredist_x86.exe（如执行报丢失DLL错误尝试vcredist_x64.exe）, 微软官网有下载，6M多，这一步主要保证在未安装VS的电脑上执行。

这样以来把文件夹打包，就成为绿色可移植win32工程了，C++代码没有暴露，策划可以轻松在电脑上修改各种配表并实时测试，在提供了lua接口以后，策划甚至可以自己写脚本扩充功能。

实验成功的DotaHero项目下载链接即将添加在github项目主页上。 之后准备实验下原始配置直接编出的版本是否仅安装vcredist_x86.exe 就可以运行，如此以来就简便很多
